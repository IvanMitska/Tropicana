# RentWeb - Платформа для аренды

Веб-приложение для аренды недвижимости, транспорта и бронирования экскурсий с модульной структурой, использующее Next.js для фронтенда и Express/Node.js для бэкенда.

## Технологический стек

- **Фронтенд**: Next.js 14 с TypeScript и App Router
- **Стили**: Tailwind CSS
- **Бэкенд**: Node.js с Express
- **База данных**: MongoDB с Mongoose
- **Аутентификация**: JWT
- **Управление состоянием**: React Query
- **HTTP-клиент**: Axios

## Структура проекта

Проект имеет монорепозиторную структуру с разделением на фронтенд и бэкенд:

```
/                     # Корневая директория
├── app/              # Next.js приложение (фронтенд)
│   ├── components/   # React компоненты
│   ├── auth/         # Маршруты авторизации
│   ├── real-estate/  # Раздел недвижимости
│   ├── transport/    # Раздел транспорта
│   └── excursions/   # Раздел экскурсий
├── public/           # Статические файлы
├── styles/           # Глобальные стили
├── lib/              # Утилиты и хуки
├── server/           # Node.js/Express сервер (бэкенд)
│   ├── controllers/  # Контроллеры API
│   ├── models/       # Mongoose модели
│   ├── routes/       # Маршруты API
│   ├── middleware/   # Промежуточное ПО
│   └── uploads/      # Загруженные файлы
└── config/           # Конфигурационные файлы
```

## Установка и запуск

### Предварительные требования

- Node.js 18.18.0 или выше
- MongoDB (установленная локально или доступная через соединение)
- npm или yarn

### Установка

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/yourusername/rent-web-platform.git
   cd rent-web-platform
   ```

2. Установите зависимости:

   ```bash
   npm install
   ```

3. Создайте файл `.env` в корне проекта, используя `.env.example` как шаблон:

   ```bash
   cp .env.example .env
   ```

4. Настройте переменные окружения в файле `.env`:

   ```
   # Frontend
   NEXT_PUBLIC_API_URL=http://localhost:3001/api

   # Backend
   PORT=3001
   MONGODB_URI=mongodb://localhost:27017/rent-web
   JWT_SECRET=your_jwt_secret
   JWT_EXPIRES_IN=7d
   JWT_COOKIE_EXPIRE=7
   ```

### Запуск для разработки

1. Запустите фронтенд и бэкенд в разных терминалах:

   Для фронтенда:

   ```bash
   npm run dev
   ```

   Для бэкенда:

   ```bash
   npm run dev:server
   ```

2. Откройте [http://localhost:3000](http://localhost:3000) в браузере

### Сборка для production

1. Соберите приложение:

   ```bash
   npm run build
   ```

2. Запустите production-версию:
   ```bash
   npm start
   ```

## API Endpoints

### Аутентификация

- `POST /api/auth/register` - Регистрация нового пользователя
- `POST /api/auth/login` - Вход пользователя
- `GET /api/auth/logout` - Выход и очистка куки
- `GET /api/auth/me` - Получение данных текущего пользователя

### Недвижимость

- `GET /api/real-estate` - Получение списка объектов недвижимости
- `GET /api/real-estate/:id` - Получение одного объекта недвижимости
- `POST /api/real-estate` - Создание нового объекта недвижимости
- `PUT /api/real-estate/:id` - Обновление объекта недвижимости
- `DELETE /api/real-estate/:id` - Удаление объекта недвижимости

### Транспорт

- `GET /api/transport` - Получение списка транспортных средств
- `GET /api/transport/:id` - Получение одного транспортного средства
- `POST /api/transport` - Создание нового транспортного средства
- `PUT /api/transport/:id` - Обновление транспортного средства
- `DELETE /api/transport/:id` - Удаление транспортного средства

### Экскурсии

- `GET /api/excursions` - Получение списка экскурсий
- `GET /api/excursions/:id` - Получение одной экскурсии
- `POST /api/excursions` - Создание новой экскурсии
- `PUT /api/excursions/:id` - Обновление экскурсии
- `DELETE /api/excursions/:id` - Удаление экскурсии

## Функциональные возможности

- Регистрация и аутентификация пользователей
- Поиск объектов недвижимости с фильтрацией и сортировкой
- Управление транспортными средствами для аренды
- Бронирование экскурсий
- Профили пользователей с историей бронирований
- Администрирование объектов и пользователей

## Разработка

### Добавление нового модуля

Для добавления нового модуля в приложение:

1. Создайте маршруты и страницы внутри директории `app/`
2. Добавьте соответствующие модели в `server/models/`
3. Создайте контроллеры в `server/controllers/`
4. Настройте API маршруты в `server/routes/`
5. Обновите компоненты UI для нового модуля

## Лицензия

MIT
